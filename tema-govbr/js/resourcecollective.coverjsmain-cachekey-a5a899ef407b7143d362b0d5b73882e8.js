
/* Merged Plone Javascript file
 * This file is dynamically assembled from separate parts.
 * Some of these parts have 3rd party licenses or copyright information attached
 * Such information is valid for that section,
 * not for the entire composite file
 * originating files are separated by - filename.js -
 */

/* - ++resource++collective.cover/js/main.js - */
var root = typeof exports !== "undefined" && exports !== null ? exports : this;

root.initializeGallery = function() {
  var $carousel = $(this);
  if (!$carousel.hasClass('tile-content')) {
    $carousel = $('.tile-content', $carousel);
  }
  Galleria.loadTheme('++resource++collective.cover/js/galleria.cover_theme.js');
  Galleria.run($carousel);
  var options = {
    height: parseFloat($carousel.attr('data-image-ratio'))
  };
  if ($('body').hasClass('template-view')) {
      options.autoplay = ($carousel.attr('data-autoplay') === 'True');
  }
  Galleria.configure(options);
};

$(function() {
  $('#content').on(
    'click',
    '.cover-calendar-tile a.calendar-tile-prev, ' +
    '.cover-calendar-tile a.calendar-tile-next',
    function(e) {
    e.preventDefault();
    var $a = $(this);
    var $tile = $a.parents('.tile');
    $.ajax({
      url: '@@updatetile',
      data: {
        'tile-id': $tile.attr('id'),
        'month:int': $a.attr('data-month'),
        'year:int': $a.attr('data-year')
      },
      success: function(info) {
        $tile.html(info);
        return false;
      },
      error: function(XMLHttpRequest, textStatus, errorThrown) {
        $tile.html(textStatus + ': ' + errorThrown);
        return false;
      }
    });
  });
  $('.cover-carousel-tile').each(root.initializeGallery);
});


/* - jquery.autocomplete.min.js - */
/*
 * Autocomplete - jQuery plugin 1.0.2
 *
 * Copyright (c) 2007 Dylan Verheul, Dan G. Switzer, Anjesh Tuladhar, JÃ¶rn Zaefferer
 *
 * Dual licensed under the MIT and GPL licenses:
 *   http://www.opensource.org/licenses/mit-license.php
 *   http://www.gnu.org/licenses/gpl.html
 *
 * Revision: $Id: jquery.autocomplete.js 5747 2008-06-25 18:30:55Z joern.zaefferer $
 *
 */;(function($){$.fn.extend({autocomplete:function(urlOrData,options){var isUrl=typeof urlOrData=="string";options=$.extend({},$.Autocompleter.defaults,{url:isUrl?urlOrData:null,data:isUrl?null:urlOrData,delay:isUrl?$.Autocompleter.defaults.delay:10,max:options&&!options.scroll?10:150},options);options.highlight=options.highlight||function(value){return value;};options.formatMatch=options.formatMatch||options.formatItem;return this.each(function(){new $.Autocompleter(this,options);});},result:function(handler){return this.bind("result",handler);},search:function(handler){return this.trigger("search",[handler]);},flushCache:function(){return this.trigger("flushCache");},setOptions:function(options){return this.trigger("setOptions",[options]);},unautocomplete:function(){return this.trigger("unautocomplete");}});$.Autocompleter=function(input,options){var KEY={UP:38,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8};var $input=$(input).attr("autocomplete","off").addClass(options.inputClass);var timeout;var previousValue="";var cache=$.Autocompleter.Cache(options);var hasFocus=0;var lastKeyPressCode;var config={mouseDownOnSelect:false};var select=$.Autocompleter.Select(options,input,selectCurrent,config);var blockSubmit;$.browser.opera&&$(input.form).bind("submit.autocomplete",function(){if(blockSubmit){blockSubmit=false;return false;}});$input.bind(($.browser.opera?"keypress":"keydown")+".autocomplete",function(event){lastKeyPressCode=event.keyCode;switch(event.keyCode){case KEY.UP:event.preventDefault();if(select.visible()){select.prev();}else{onChange(0,true);}break;case KEY.DOWN:event.preventDefault();if(select.visible()){select.next();}else{onChange(0,true);}break;case KEY.PAGEUP:event.preventDefault();if(select.visible()){select.pageUp();}else{onChange(0,true);}break;case KEY.PAGEDOWN:event.preventDefault();if(select.visible()){select.pageDown();}else{onChange(0,true);}break;case options.multiple&&$.trim(options.multipleSeparator)==","&&KEY.COMMA:case KEY.TAB:case KEY.RETURN:if(selectCurrent()){event.preventDefault();blockSubmit=true;return false;}break;case KEY.ESC:select.hide();break;default:clearTimeout(timeout);timeout=setTimeout(onChange,options.delay);break;}}).focus(function(){hasFocus++;}).blur(function(){hasFocus=0;if(!config.mouseDownOnSelect){hideResults();}}).click(function(){if(hasFocus++>1&&!select.visible()){onChange(0,true);}}).bind("search",function(){var fn=(arguments.length>1)?arguments[1]:null;function findValueCallback(q,data){var result;if(data&&data.length){for(var i=0;i<data.length;i++){if(data[i].result.toLowerCase()==q.toLowerCase()){result=data[i];break;}}}if(typeof fn=="function")fn(result);else $input.trigger("result",result&&[result.data,result.value]);}$.each(trimWords($input.val()),function(i,value){request(value,findValueCallback,findValueCallback);});}).bind("flushCache",function(){cache.flush();}).bind("setOptions",function(){$.extend(options,arguments[1]);if("data"in arguments[1])cache.populate();}).bind("unautocomplete",function(){select.unbind();$input.unbind();$(input.form).unbind(".autocomplete");});function selectCurrent(){var selected=select.selected();if(!selected)return false;var v=selected.result;previousValue=v;if(options.multiple){var words=trimWords($input.val());if(words.length>1){v=words.slice(0,words.length-1).join(options.multipleSeparator)+options.multipleSeparator+v;}v+=options.multipleSeparator;}$input.val(v);hideResultsNow();$input.trigger("result",[selected.data,selected.value]);return true;}function onChange(crap,skipPrevCheck){if(lastKeyPressCode==KEY.DEL){select.hide();return;}var currentValue=$input.val();if(!skipPrevCheck&&currentValue==previousValue)return;previousValue=currentValue;currentValue=lastWord(currentValue);if(currentValue.length>=options.minChars){$input.addClass(options.loadingClass);if(!options.matchCase)currentValue=currentValue.toLowerCase();request(currentValue,receiveData,hideResultsNow);}else{stopLoading();select.hide();}};function trimWords(value){if(!value){return[""];}var words=value.split(options.multipleSeparator);var result=[];$.each(words,function(i,value){if($.trim(value))result[i]=$.trim(value);});return result;}function lastWord(value){if(!options.multiple)return value;var words=trimWords(value);return words[words.length-1];}function autoFill(q,sValue){if(options.autoFill&&(lastWord($input.val()).toLowerCase()==q.toLowerCase())&&lastKeyPressCode!=KEY.BACKSPACE){$input.val($input.val()+sValue.substring(lastWord(previousValue).length));$.Autocompleter.Selection(input,previousValue.length,previousValue.length+sValue.length);}};function hideResults(){clearTimeout(timeout);timeout=setTimeout(hideResultsNow,200);};function hideResultsNow(){var wasVisible=select.visible();select.hide();clearTimeout(timeout);stopLoading();if(options.mustMatch){$input.search(function(result){if(!result){if(options.multiple){var words=trimWords($input.val()).slice(0,-1);$input.val(words.join(options.multipleSeparator)+(words.length?options.multipleSeparator:""));}else
$input.val("");}});}if(wasVisible)$.Autocompleter.Selection(input,input.value.length,input.value.length);};function receiveData(q,data){if(data&&data.length&&hasFocus){stopLoading();select.display(data,q);autoFill(q,data[0].value);select.show();}else{hideResultsNow();}};function request(term,success,failure){if(!options.matchCase)term=term.toLowerCase();var data=cache.load(term);if(data&&data.length){success(term,data);}else if((typeof options.url=="string")&&(options.url.length>0)){var extraParams={timestamp:+new Date()};$.each(options.extraParams,function(key,param){extraParams[key]=typeof param=="function"?param():param;});$.ajax({mode:"abort",port:"autocomplete"+input.name,dataType:options.dataType,url:options.url,data:$.extend({q:lastWord(term),limit:options.max},extraParams),success:function(data){var parsed=options.parse&&options.parse(data)||parse(data);cache.add(term,parsed);success(term,parsed);}});}else{select.emptyList();failure(term);}};function parse(data){var parsed=[];var rows=data.split("\n");for(var i=0;i<rows.length;i++){var row=$.trim(rows[i]);if(row){row=row.split("|");parsed[parsed.length]={data:row,value:row[0],result:options.formatResult&&options.formatResult(row,row[0])||row[0]};}}return parsed;};function stopLoading(){$input.removeClass(options.loadingClass);};};$.Autocompleter.defaults={inputClass:"ac_input",resultsClass:"ac_results",loadingClass:"ac_loading",minChars:1,delay:400,matchCase:false,matchSubset:true,matchContains:false,cacheLength:10,max:100,mustMatch:false,extraParams:{},selectFirst:true,formatItem:function(row){return row[0];},formatMatch:null,autoFill:false,width:0,multiple:false,multipleSeparator:", ",highlight:function(value,term){return value.replace(new RegExp("(?![^&;]+;)(?!<[^<>]*)("+term.replace(/([\^\$\(\)\[\]\{\}\*\.\+\?\|\\])/gi,"\\$1")+")(?![^<>]*>)(?![^&;]+;)","gi"),"<strong>$1</strong>");},scroll:true,scrollHeight:180};$.Autocompleter.Cache=function(options){var data={};var length=0;function matchSubset(s,sub){if(!options.matchCase)s=s.toLowerCase();var i=s.indexOf(sub);if(i==-1)return false;return i==0||options.matchContains;};function add(q,value){if(length>options.cacheLength){flush();}if(!data[q]){length++;}data[q]=value;}function populate(){if(!options.data)return false;var stMatchSets={},nullData=0;if(!options.url)options.cacheLength=1;stMatchSets[""]=[];for(var i=0,ol=options.data.length;i<ol;i++){var rawValue=options.data[i];rawValue=(typeof rawValue=="string")?[rawValue]:rawValue;var value=options.formatMatch(rawValue,i+1,options.data.length);if(value===false)continue;var firstChar=value.charAt(0).toLowerCase();if(!stMatchSets[firstChar])stMatchSets[firstChar]=[];var row={value:value,data:rawValue,result:options.formatResult&&options.formatResult(rawValue)||value};stMatchSets[firstChar].push(row);if(nullData++<options.max){stMatchSets[""].push(row);}};$.each(stMatchSets,function(i,value){options.cacheLength++;add(i,value);});}setTimeout(populate,25);function flush(){data={};length=0;}return{flush:flush,add:add,populate:populate,load:function(q){if(!options.cacheLength||!length)return null;if(!options.url&&options.matchContains){var csub=[];for(var k in data){if(k.length>0){var c=data[k];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub.push(x);}});}}return csub;}else
if(data[q]){return data[q];}else
if(options.matchSubset){for(var i=q.length-1;i>=options.minChars;i--){var c=data[q.substr(0,i)];if(c){var csub=[];$.each(c,function(i,x){if(matchSubset(x.value,q)){csub[csub.length]=x;}});return csub;}}}return null;}};};$.Autocompleter.Select=function(options,input,select,config){var CLASSES={ACTIVE:"ac_over"};var listItems,active=-1,data,term="",needsInit=true,element,list;function init(){if(!needsInit)return;element=$("<div/>").hide().addClass(options.resultsClass).css("position","absolute").appendTo(document.body);list=$("<ul/>").appendTo(element).mouseover(function(event){if(target(event).nodeName&&target(event).nodeName.toUpperCase()=='LI'){active=$("li",list).removeClass(CLASSES.ACTIVE).index(target(event));$(target(event)).addClass(CLASSES.ACTIVE);}}).click(function(event){$(target(event)).addClass(CLASSES.ACTIVE);select();input.focus();return false;}).mousedown(function(){config.mouseDownOnSelect=true;}).mouseup(function(){config.mouseDownOnSelect=false;});if(options.width>0)element.css("width",options.width);needsInit=false;}function target(event){var element=event.target;while(element&&element.tagName!="LI")element=element.parentNode;if(!element)return[];return element;}function moveSelect(step){listItems.slice(active,active+1).removeClass(CLASSES.ACTIVE);movePosition(step);var activeItem=listItems.slice(active,active+1).addClass(CLASSES.ACTIVE);if(options.scroll){var offset=0;listItems.slice(0,active).each(function(){offset+=this.offsetHeight;});if((offset+activeItem[0].offsetHeight-list.scrollTop())>list[0].clientHeight){list.scrollTop(offset+activeItem[0].offsetHeight-list.innerHeight());}else if(offset<list.scrollTop()){list.scrollTop(offset);}}};function movePosition(step){active+=step;if(active<0){active=listItems.size()-1;}else if(active>=listItems.size()){active=0;}}function limitNumberOfItems(available){return options.max&&options.max<available?options.max:available;}function fillList(){list.empty();var max=limitNumberOfItems(data.length);for(var i=0;i<max;i++){if(!data[i])continue;var formatted=options.formatItem(data[i].data,i+1,max,data[i].value,term);if(formatted===false)continue;var li=$("<li/>").html(options.highlight(formatted,term)).addClass(i%2==0?"ac_even":"ac_odd").appendTo(list)[0];$.data(li,"ac_data",data[i]);}listItems=list.find("li");if(options.selectFirst){listItems.slice(0,1).addClass(CLASSES.ACTIVE);active=0;}if($.fn.bgiframe)list.bgiframe();}return{display:function(d,q){init();data=d;term=q;fillList();},next:function(){moveSelect(1);},prev:function(){moveSelect(-1);},pageUp:function(){if(active!=0&&active-8<0){moveSelect(-active);}else{moveSelect(-8);}},pageDown:function(){if(active!=listItems.size()-1&&active+8>listItems.size()){moveSelect(listItems.size()-1-active);}else{moveSelect(8);}},hide:function(){element&&element.hide();listItems&&listItems.removeClass(CLASSES.ACTIVE);active=-1;},visible:function(){return element&&element.is(":visible");},current:function(){return this.visible()&&(listItems.filter("."+CLASSES.ACTIVE)[0]||options.selectFirst&&listItems[0]);},show:function(){var offset=$(input).offset();element.css({width:typeof options.width=="string"||options.width>0?options.width:$(input).width(),top:offset.top+input.offsetHeight,left:offset.left}).show();if(options.scroll){list.scrollTop(0);list.css({maxHeight:options.scrollHeight,overflow:'auto'});if($.browser.msie&&typeof document.body.style.maxHeight==="undefined"){var listHeight=0;listItems.each(function(){listHeight+=this.offsetHeight;});var scrollbarsVisible=listHeight>options.scrollHeight;list.css('height',scrollbarsVisible?options.scrollHeight:listHeight);if(!scrollbarsVisible){listItems.width(list.width()-parseInt(listItems.css("padding-left"))-parseInt(listItems.css("padding-right")));}}}},selected:function(){var selected=listItems&&listItems.filter("."+CLASSES.ACTIVE).removeClass(CLASSES.ACTIVE);return selected&&selected.length&&$.data(selected[0],"ac_data");},emptyList:function(){list&&list.empty();},unbind:function(){element&&element.remove();}};};$.Autocompleter.Selection=function(field,start,end){if(field.createTextRange){var selRange=field.createTextRange();selRange.collapse(true);selRange.moveStart("character",start);selRange.moveEnd("character",end);selRange.select();}else if(field.setSelectionRange){field.setSelectionRange(start,end);}else{if(field.selectionStart){field.selectionStart=start;field.selectionEnd=end;}}field.focus();};})(jQuery);

/* - ++resource++sl_scripts/social_like.js - */
// https://www.gov.br/saude/portal_javascripts/++resource++sl_scripts/social_like.js?original=1
(function(a){(jQuery.browser=jQuery.browser||{}).mobile=/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))})(navigator.userAgent||navigator.vendor||window.opera);$(function(){$("div#viewlet-social-like").each(function(){$(this).fadeIn(3000);$(this).removeAttr("style")});if($.browser.mobile){$('#viewlet-social-like .whatsapp').addClass('active',3000)}
if($.fn.prepOverlay!==undefined){$('#viewlet-social-like .share-by-email').prepOverlay({subtype:'ajax',filter:'#content-core',formselector:'form'})}});

/* - ++resource++collective.nitf/nitf.js - */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["collective.nitf"]=t():e["collective.nitf"]=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}var n={};return t.m=e,t.c=n,t.i=function(e){return e},t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:o})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="++resource++collective.nitf/",t(t.s=3)}([function(e,t){},function(e,t,n){e.exports=n.p+"nitf_icon.png"},function(e,t,n){e.exports=n.p+"tile-nitf.png"},function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}();n(0),n(1),n(2);var i=function(){function e(t){o(this,e),this.$el=$(t),this.proportion=1.5,this.bind_events()}return r(e,[{key:"$",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e){return $(e,this.$el)})},{key:"bind_events",value:function(){this.$(".cycle-player").on("cycle-next cycle-prev",$.proxy(this.sync_slideshows,this)),this.$(".cycle-carrossel .thumb-itens").on("click",$.proxy(this.thumbs_click,this))}},{key:"sync_slideshows",value:function(e,t){var n;n=this.$(".cycle-slideshow"),n.cycle("goto",t.currSlide)}},{key:"thumbs_click",value:function(e){var t,n,o,r;e.preventDefault(),n=this.$(".cycle-carrossel"),o=n.data("cycle.API"),t=o.getSlideIndex(e.target.parentElement),r=this.$(".cycle-slideshow"),r.cycle("goto",t)}}]),e}();$(window).load(function(){$(".portaltype-collective-nitf-content.template-slideshow_view").length>0&&new i($(".slideshow-container"))}),e.exports=i}])});
//# sourceMappingURL=nitf.js.map

/* - ++resource++collective.polls/js/jquery.flot.js - */
(function(i){i.color={};i.color.make=function(j,k,y,P){var o={};o.r=j||0;o.g=k||0;o.b=y||0;o.a=null!=P?P:1;o.add=function(i,j){for(var k=0;k<i.length;++k)o[i.charAt(k)]+=j;return o.normalize()};o.scale=function(i,k){for(var j=0;j<i.length;++j)o[i.charAt(j)]*=k;return o.normalize()};o.toString=function(){return 1<=o.a?"rgb("+[o.r,o.g,o.b].join()+")":"rgba("+[o.r,o.g,o.b,o.a].join()+")"};o.normalize=function(){function i(j,k,o){return k<j?j:k>o?o:k}o.r=i(0,parseInt(o.r),255);o.g=i(0,parseInt(o.g),255);
o.b=i(0,parseInt(o.b),255);o.a=i(0,o.a,1);return o};o.clone=function(){return i.color.make(o.r,o.b,o.g,o.a)};return o.normalize()};i.color.extract=function(j,k){var y;do{y=j.css(k).toLowerCase();if(""!=y&&"transparent"!=y)break;j=j.parent()}while(!i.nodeName(j.get(0),"body"));"rgba(0, 0, 0, 0)"==y&&(y="transparent");return i.color.parse(y)};i.color.parse=function(j){var k,y=i.color.make;if(k=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(j))return y(parseInt(k[1],10),parseInt(k[2],
10),parseInt(k[3],10));if(k=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(j))return y(parseInt(k[1],10),parseInt(k[2],10),parseInt(k[3],10),parseFloat(k[4]));if(k=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(j))return y(2.55*parseFloat(k[1]),2.55*parseFloat(k[2]),2.55*parseFloat(k[3]));if(k=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(j))return y(2.55*
parseFloat(k[1]),2.55*parseFloat(k[2]),2.55*parseFloat(k[3]),parseFloat(k[4]));if(k=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(j))return y(parseInt(k[1],16),parseInt(k[2],16),parseInt(k[3],16));if(k=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(j))return y(parseInt(k[1]+k[1],16),parseInt(k[2]+k[2],16),parseInt(k[3]+k[3],16));j=i.trim(j).toLowerCase();if("transparent"==j)return y(255,255,255,0);k=L[j]||[0,0,0];return y(k[0],k[1],k[2])};var L={aqua:[0,255,255],azure:[240,255,255],beige:[245,
245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,
144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}})(jQuery);
(function(i){function L(j,k,y,P){function o(a,d){for(var d=[t].concat(d),b=0;b<a.length;++b)a[b].apply(this,d)}function L(a){for(var d=[],b=0;b<a.length;++b){var c=i.extend(!0,{},f.series);null!=a[b].data?(c.data=a[b].data,delete a[b].data,i.extend(!0,c,a[b]),a[b].data=c.data):c.data=a[b];d.push(c)}v=d;d=v.length;b=[];c=[];for(a=0;a<v.length;++a){var e=v[a].color;null!=e&&(--d,"number"==typeof e?c.push(e):b.push(i.color.parse(v[a].color)))}for(a=0;a<c.length;++a)d=Math.max(d,c[a]+1);b=[];for(a=c=
0;b.length<d;)e=f.colors.length==a?i.color.make(100,100,100):i.color.parse(f.colors[a]),e.scale("rgb",1+0.2*(1==c%2?-1:1)*Math.ceil(c/2)),b.push(e),++a,a>=f.colors.length&&(a=0,++c);for(a=d=0;a<v.length;++a){c=v[a];null==c.color?(c.color=b[d].toString(),++d):"number"==typeof c.color&&(c.color=b[c.color].toString());if(null==c.lines.show){var M,e=!0;for(M in c)if(c[M]&&c[M].show){e=!1;break}e&&(c.lines.show=!0)}c.xaxis=S(B,R(c,"x"));c.yaxis=S(D,R(c,"y"))}na()}function R(a,d){var b=a[d+"axis"];"object"==
typeof b&&(b=b.n);"number"!=typeof b&&(b=1);return b}function K(){return i.grep(B.concat(D),function(a){return a})}function W(a){var d={},b,c;for(b=0;b<B.length;++b)(c=B[b])&&c.used&&(d["x"+c.n]=c.c2p(a.left));for(b=0;b<D.length;++b)(c=D[b])&&c.used&&(d["y"+c.n]=c.c2p(a.top));void 0!==d.x1&&(d.x=d.x1);void 0!==d.y1&&(d.y=d.y1);return d}function S(a,d){a[d-1]||(a[d-1]={n:d,direction:a==B?"x":"y",options:i.extend(!0,{},a==B?f.xaxis:f.yaxis)});return a[d-1]}function na(){function a(a,b,d){b<a.datamin&&
b!=-c&&(a.datamin=b);d>a.datamax&&d!=c&&(a.datamax=d)}var d=Number.POSITIVE_INFINITY,b=Number.NEGATIVE_INFINITY,c=Number.MAX_VALUE,e,f,u,s,p,x,q,g,h,w;i.each(K(),function(a,c){c.datamin=d;c.datamax=b;c.used=!1});for(e=0;e<v.length;++e)p=v[e],p.datapoints={points:[]},o(z.processRawData,[p,p.data,p.datapoints]);for(e=0;e<v.length;++e){p=v[e];var k=p.data,n=p.datapoints.format;if(!n){n=[];n.push({x:!0,number:!0,required:!0});n.push({y:!0,number:!0,required:!0});if(p.bars.show||p.lines.show&&p.lines.fill)n.push({y:!0,
number:!0,required:!1,defaultValue:0}),p.bars.horizontal&&(delete n[n.length-1].y,n[n.length-1].x=!0);p.datapoints.format=n}if(null==p.datapoints.pointsize){p.datapoints.pointsize=n.length;q=p.datapoints.pointsize;x=p.datapoints.points;insertSteps=p.lines.show&&p.lines.steps;p.xaxis.used=p.yaxis.used=!0;for(f=u=0;f<k.length;++f,u+=q){w=k[f];var l=null==w;if(!l)for(s=0;s<q;++s){g=w[s];if(h=n[s])if(h.number&&null!=g&&(g=+g,isNaN(g)?g=null:Infinity==g?g=c:-Infinity==g&&(g=-c)),null==g)h.required&&(l=
!0),null!=h.defaultValue&&(g=h.defaultValue);x[u+s]=g}if(l)for(s=0;s<q;++s)g=x[u+s],null!=g&&(h=n[s],h.x&&a(p.xaxis,g,g),h.y&&a(p.yaxis,g,g)),x[u+s]=null;else if(insertSteps&&0<u&&null!=x[u-q]&&x[u-q]!=x[u]&&x[u-q+1]!=x[u+1]){for(s=0;s<q;++s)x[u+q+s]=x[u+s];x[u+1]=x[u-q+1];u+=q}}}}for(e=0;e<v.length;++e)p=v[e],o(z.processDatapoints,[p,p.datapoints]);for(e=0;e<v.length;++e){p=v[e];x=p.datapoints.points;q=p.datapoints.pointsize;n=p.datapoints.format;w=u=d;l=k=b;for(f=0;f<x.length;f+=q)if(null!=x[f])for(s=
0;s<q;++s)if(g=x[f+s],(h=n[s])&&!(g==c||g==-c))if(h.x&&(g<u&&(u=g),g>k&&(k=g)),h.y)g<w&&(w=g),g>l&&(l=g);if(p.bars.show){switch(p.bars.align){case "left":f=0;break;case "right":f=-p.bars.barWidth;break;case "center":f=-p.bars.barWidth/2;break;default:throw Error("Invalid bar alignment: "+p.bars.align);}p.bars.horizontal?(w+=f,l+=f+p.bars.barWidth):(u+=f,k+=f+p.bars.barWidth)}a(p.xaxis,u,k);a(p.yaxis,w,l)}i.each(K(),function(a,c){c.datamin==d&&(c.datamin=null);c.datamax==b&&(c.datamax=null)})}function X(a,
d){var b=document.createElement("canvas");b.className=d;b.width=E;b.height=F;a||i(b).css({position:"absolute",left:0,top:0});i(b).appendTo(j);b.getContext||(b=window.G_vmlCanvasManager.initElement(b));b.getContext("2d").save();return b}function Y(){E=j.width();F=j.height();if(0>=E||0>=F)throw Error("Invalid dimensions for plot, width = "+E+", height = "+F);}function Z(a){a.width!=E&&(a.width=E);a.height!=F&&(a.height=F);a=a.getContext("2d");a.restore();a.save()}function oa(a){function d(a){return a}
var b,c,e=a.options.transform||d,f=a.options.inverseTransform;"x"==a.direction?(b=a.scale=J/Math.abs(e(a.max)-e(a.min)),c=Math.min(e(a.max),e(a.min))):(b=a.scale=H/Math.abs(e(a.max)-e(a.min)),b=-b,c=Math.max(e(a.max),e(a.min)));a.p2c=e==d?function(a){return(a-c)*b}:function(a){return(e(a)-c)*b};a.c2p=f?function(a){return f(c+a/b)}:function(a){return c+a/b}}function pa(a){var d=a.labelWidth,b=a.labelHeight,c=a.options.position,e=a.options.tickLength,g=f.grid.axisMargin,u=f.grid.labelMargin,s="x"==
a.direction?B:D,p=i.grep(s,function(a){return a&&a.options.position==c&&a.reserveSpace});i.inArray(a,p)==p.length-1&&(g=0);if(null==e)var e=i.grep(s,function(a){return a&&a.reserveSpace}),x=0==i.inArray(a,e),e=x?"full":5;isNaN(+e)||(u+=+e);"x"==a.direction?(b+=u,"bottom"==c?(h.bottom+=b+g,a.box={top:F-h.bottom,height:b}):(a.box={top:h.top+g,height:b},h.top+=b+g)):(d+=u,"left"==c?(a.box={left:h.left+g,width:d},h.left+=d+g):(h.right+=d+g,a.box={left:E-h.right,width:d}));a.position=c;a.tickLength=e;
a.box.padding=u;a.innermost=x}function qa(){var a=f.grid.minBorderMargin,d={x:0,y:0},b;if(null==a)for(b=a=0;b<v.length;++b)a=Math.max(a,2*(v[b].points.radius+v[b].points.lineWidth/2));d.x=d.y=Math.ceil(a);i.each(K(),function(a,b){var f=b.direction;b.reserveSpace&&(d[f]=Math.ceil(Math.max(d[f],("x"==f?b.labelWidth:b.labelHeight)/2)))});h.left=Math.max(d.x,h.left);h.right=Math.max(d.x,h.right);h.top=Math.max(d.y,h.top);h.bottom=Math.max(d.y,h.bottom)}function $(){var a,d=K();a=f.grid.show;for(var b in h){var c=
f.grid.margin||0;h[b]="number"==typeof c?c:c[b]||0}o(z.processOffset,[h]);for(b in h)h[b]+=a?f.grid.borderWidth:0;i.each(d,function(a,b){b.show=b.options.show;null==b.show&&(b.show=b.used);b.reserveSpace=b.show||b.options.reserveSpace;var d=b.options,c=+(null!=d.min?d.min:b.datamin),e=+(null!=d.max?d.max:b.datamax),f=e-c;if(0==f){if(f=0==e?1:0.01,null==d.min&&(c-=f),null==d.max||null!=d.min)e+=f}else{var g=d.autoscaleMargin;if(null!=g&&(null==d.min&&(c-=f*g,0>c&&(null!=b.datamin&&0<=b.datamin)&&(c=
0)),null==d.max))e+=f*g,0<e&&(null!=b.datamax&&0>=b.datamax)&&(e=0)}b.min=c;b.max=e});if(a){var e={style:j.css("font-style"),size:Math.round(0.8*(+j.css("font-size").replace("px","")||13)),variant:j.css("font-variant"),weight:j.css("font-weight"),family:j.css("font-family")};b=i.grep(d,function(a){return a.reserveSpace});i.each(b,function(a,b){ra(b);var d=b.options.ticks,c=[];null==d||"number"==typeof d&&0<d?c=b.tickGenerator(b):d&&(c=i.isFunction(d)?d(b):d);var f;b.ticks=[];for(d=0;d<c.length;++d){var q=
null,h=c[d];"object"==typeof h?(f=+h[0],1<h.length&&(q=h[1])):f=+h;null==q&&(q=b.tickFormatter(f,b));isNaN(f)||b.ticks.push({v:f,label:q})}c=b.ticks;if(b.options.autoscaleMargin&&0<c.length&&(null==b.options.min&&(b.min=Math.min(b.min,c[0].v)),null==b.options.max&&1<c.length))b.max=Math.max(b.max,c[c.length-1].v);b.font=i.extend({},e,b.options.font);c=b.options;d=b.ticks||[];f=c.labelWidth||0;q=c.labelHeight||0;h=b.font;g.save();g.font=h.style+" "+h.variant+" "+h.weight+" "+h.size+"px '"+h.family+
"'";for(var k=0;k<d.length;++k){var w=d[k];w.lines=[];w.width=w.height=0;if(w.label){for(var j=w.label.replace(/<br ?\/?>|\r\n|\r/g,"\n").split("\n"),n=0;n<j.length;++n){var l={text:j[n]},m=g.measureText(l.text);l.width=m.width;l.height=null!=m.height?m.height:h.size;l.height+=Math.round(0.15*h.size);w.width=Math.max(l.width,w.width);w.height+=l.height;w.lines.push(l)}null==c.labelWidth&&(f=Math.max(f,w.width));null==c.labelHeight&&(q=Math.max(q,w.height))}}g.restore();b.labelWidth=Math.ceil(f);b.labelHeight=
Math.ceil(q)});for(a=b.length-1;0<=a;--a)pa(b[a]);qa();i.each(b,function(a,b){"x"==b.direction?(b.box.left=h.left-b.labelWidth/2,b.box.width=E-h.left-h.right+b.labelWidth):(b.box.top=h.top-b.labelHeight/2,b.box.height=F-h.bottom-h.top+b.labelHeight)})}J=E-h.left-h.right;H=F-h.bottom-h.top;i.each(d,function(a,b){oa(b)});sa()}function ra(a){var d=a.options,b;b="number"==typeof d.ticks&&0<d.ticks?d.ticks:0.3*Math.sqrt("x"==a.direction?E:F);a.delta=(a.max-a.min)/b;if(!d.mode){b=d.tickDecimals;var c=-Math.floor(Math.log(a.delta)/
Math.LN10);null!=b&&c>b&&(c=b);var e=Math.pow(10,-c),f=a.delta/e,g;if(1.5>f)g=1;else if(3>f){if(g=2,2.25<f&&(null==b||c+1<=b))g=2.5,++c}else g=7.5>f?5:10;g*=e;null!=d.minTickSize&&g<d.minTickSize&&(g=d.minTickSize);a.tickDecimals=Math.max(0,null!=b?b:c);a.tickSize=d.tickSize||g;a.tickGenerator=function(a){var b=[],d=a.tickSize*Math.floor(a.min/a.tickSize),c=0,e=Number.NaN,f;do{f=e;e=d+c*a.tickSize;b.push(e);++c}while(e<a.max&&e!=f);return b};a.tickFormatter=function(a,b){return a.toFixed(b.tickDecimals)}}i.isFunction(d.tickFormatter)&&
(a.tickFormatter=function(a,b){return""+d.tickFormatter(a,b)});if(null!=d.alignTicksWithAxis){var s=("x"==a.direction?B:D)[d.alignTicksWithAxis-1];if(s&&s.used&&s!=a){b=a.tickGenerator(a);if(0<b.length&&(null==d.min&&(a.min=Math.min(a.min,b[0])),null==d.max&&1<b.length))a.max=Math.max(a.max,b[b.length-1]);a.tickGenerator=function(a){var b=[],d,c;for(c=0;c<s.ticks.length;++c){d=(s.ticks[c].v-s.min)/(s.max-s.min);d=a.min+d*(a.max-a.min);b.push(d)}return b};!a.mode&&null==d.tickDecimals&&(b=Math.max(0,
-Math.floor(Math.log(a.delta)/Math.LN10)+1),c=a.tickGenerator(a),1<c.length&&/\..*0$/.test((c[1]-c[0]).toFixed(b))||(a.tickDecimals=b))}}}function aa(){g.clearRect(0,0,E,F);o(z.drawBackground,[g]);var a=f.grid;a.show&&a.backgroundColor&&(g.save(),g.translate(h.left,h.top),g.fillStyle=ba(f.grid.backgroundColor,H,0,"rgba(255, 255, 255, 0)"),g.fillRect(0,0,J,H),g.restore());a.show&&!a.aboveData&&(ca(),da());for(var d=0;d<v.length;++d){o(z.drawSeries,[g,v[d]]);var b=v[d];b.lines.show&&ta(b);b.bars.show&&
ua(b);b.points.show&&va(b)}o(z.draw,[g]);a.show&&a.aboveData&&(ca(),da())}function ea(a,d){for(var b,c,e,f,g=K(),s=0;s<g.length;++s)if(b=g[s],b.direction==d&&(f=d+b.n+"axis",!a[f]&&1==b.n&&(f=d+"axis"),a[f])){c=a[f].from;e=a[f].to;break}a[f]||(b="x"==d?B[0]:D[0],c=a[d+"1"],e=a[d+"2"]);null!=c&&(null!=e&&c>e)&&(f=c,c=e,e=f);return{from:c,to:e,axis:b}}function ca(){var a;g.save();g.translate(h.left,h.top);var d=f.grid.markings;if(d){if(i.isFunction(d)){var b=t.getAxes();b.xmin=b.xaxis.min;b.xmax=b.xaxis.max;
b.ymin=b.yaxis.min;b.ymax=b.yaxis.max;d=d(b)}for(a=0;a<d.length;++a){var b=d[a],c=ea(b,"x"),e=ea(b,"y");null==c.from&&(c.from=c.axis.min);null==c.to&&(c.to=c.axis.max);null==e.from&&(e.from=e.axis.min);null==e.to&&(e.to=e.axis.max);c.to<c.axis.min||(c.from>c.axis.max||e.to<e.axis.min||e.from>e.axis.max)||(c.from=Math.max(c.from,c.axis.min),c.to=Math.min(c.to,c.axis.max),e.from=Math.max(e.from,e.axis.min),e.to=Math.min(e.to,e.axis.max),c.from==c.to&&e.from==e.to||(c.from=c.axis.p2c(c.from),c.to=c.axis.p2c(c.to),
e.from=e.axis.p2c(e.from),e.to=e.axis.p2c(e.to),c.from==c.to||e.from==e.to?(g.beginPath(),g.strokeStyle=b.color||f.grid.markingsColor,g.lineWidth=b.lineWidth||f.grid.markingsLineWidth,g.moveTo(c.from,e.from),g.lineTo(c.to,e.to),g.stroke()):(g.fillStyle=b.color||f.grid.markingsColor,g.fillRect(c.from,e.to,c.to-c.from,e.from-e.to))))}}b=K();d=f.grid.borderWidth;for(c=0;c<b.length;++c){e=b[c];a=e.box;var k=e.tickLength,u,s,p,x;if(e.show&&0!=e.ticks.length){g.strokeStyle=e.options.tickColor||i.color.parse(e.options.color).scale("a",
0.22).toString();g.lineWidth=1;"x"==e.direction?(u=0,s="full"==k?"top"==e.position?0:H:a.top-h.top+("top"==e.position?a.height:0)):(s=0,u="full"==k?"left"==e.position?0:J:a.left-h.left+("left"==e.position?a.width:0));e.innermost||(g.beginPath(),p=x=0,"x"==e.direction?p=J:x=H,1==g.lineWidth&&(u=Math.floor(u)+0.5,s=Math.floor(s)+0.5),g.moveTo(u,s),g.lineTo(u+p,s+x),g.stroke());g.beginPath();for(a=0;a<e.ticks.length;++a){var q=e.ticks[a].v;p=x=0;q<e.min||(q>e.max||"full"==k&&0<d&&(q==e.min||q==e.max))||
("x"==e.direction?(u=e.p2c(q),x="full"==k?-H:k,"top"==e.position&&(x=-x)):(s=e.p2c(q),p="full"==k?-J:k,"left"==e.position&&(p=-p)),1==g.lineWidth&&("x"==e.direction?u=Math.floor(u)+0.5:s=Math.floor(s)+0.5),g.moveTo(u,s),g.lineTo(u+p,s+x))}g.stroke()}}d&&(g.lineWidth=d,g.strokeStyle=f.grid.borderColor,g.strokeRect(-d/2,-d/2,J+d,H+d));g.restore()}function da(){g.save();i.each(K(),function(a,d){if(d.show&&0!=d.ticks.length){var b=d.box,c=d.font;g.fillStyle=d.options.color;g.font=c.style+" "+c.variant+
" "+c.weight+" "+c.size+"px "+c.family;g.textAlign="start";g.textBaseline="middle";for(c=0;c<d.ticks.length;++c){var e=d.ticks[c];if(e.label&&!(e.v<d.min||e.v>d.max))for(var f,u,s=0,p,x=0;x<e.lines.length;++x)p=e.lines[x],"x"==d.direction?(f=h.left+d.p2c(e.v)-p.width/2,u="bottom"==d.position?b.top+b.padding:b.top+b.height-b.padding-e.height):(u=h.top+d.p2c(e.v)-e.height/2,f="left"==d.position?b.left+b.width-b.padding-p.width:b.left+b.padding),u+=p.height/2+s,s+=p.height,i.browser.opera&&(f=Math.floor(f),
u=Math.ceil(u-2)),g.fillText(p.text,f,u)}}});g.restore()}function ta(a){function d(a,b,d,c,e){var f=a.points,a=a.pointsize,h=null,i=null;g.beginPath();for(var k=a;k<f.length;k+=a){var n=f[k-a],l=f[k-a+1],m=f[k],r=f[k+1];if(!(null==n||null==m)){if(l<=r&&l<e.min){if(r<e.min)continue;n=(e.min-l)/(r-l)*(m-n)+n;l=e.min}else if(r<=l&&r<e.min){if(l<e.min)continue;m=(e.min-l)/(r-l)*(m-n)+n;r=e.min}if(l>=r&&l>e.max){if(r>e.max)continue;n=(e.max-l)/(r-l)*(m-n)+n;l=e.max}else if(r>=l&&r>e.max){if(l>e.max)continue;
m=(e.max-l)/(r-l)*(m-n)+n;r=e.max}if(n<=m&&n<c.min){if(m<c.min)continue;l=(c.min-n)/(m-n)*(r-l)+l;n=c.min}else if(m<=n&&m<c.min){if(n<c.min)continue;r=(c.min-n)/(m-n)*(r-l)+l;m=c.min}if(n>=m&&n>c.max){if(m>c.max)continue;l=(c.max-n)/(m-n)*(r-l)+l;n=c.max}else if(m>=n&&m>c.max){if(n>c.max)continue;r=(c.max-n)/(m-n)*(r-l)+l;m=c.max}(n!=h||l!=i)&&g.moveTo(c.p2c(n)+b,e.p2c(l)+d);h=m;i=r;g.lineTo(c.p2c(m)+b,e.p2c(r)+d)}}g.stroke()}function b(a,b,c){for(var d=a.points,a=a.pointsize,e=Math.min(Math.max(0,
c.min),c.max),f=0,h=!1,k=1,i=0,n=0;!(0<a&&f>d.length+a);){var f=f+a,l=d[f-a],m=d[f-a+k],r=d[f],j=d[f+k];if(h){if(0<a&&null!=l&&null==r){n=f;a=-a;k=2;continue}if(0>a&&f==i+a){g.fill();h=!1;a=-a;k=1;f=i=n+a;continue}}if(!(null==l||null==r)){if(l<=r&&l<b.min){if(r<b.min)continue;m=(b.min-l)/(r-l)*(j-m)+m;l=b.min}else if(r<=l&&r<b.min){if(l<b.min)continue;j=(b.min-l)/(r-l)*(j-m)+m;r=b.min}if(l>=r&&l>b.max){if(r>b.max)continue;m=(b.max-l)/(r-l)*(j-m)+m;l=b.max}else if(r>=l&&r>b.max){if(l>b.max)continue;
j=(b.max-l)/(r-l)*(j-m)+m;r=b.max}h||(g.beginPath(),g.moveTo(b.p2c(l),c.p2c(e)),h=!0);if(m>=c.max&&j>=c.max)g.lineTo(b.p2c(l),c.p2c(c.max)),g.lineTo(b.p2c(r),c.p2c(c.max));else if(m<=c.min&&j<=c.min)g.lineTo(b.p2c(l),c.p2c(c.min)),g.lineTo(b.p2c(r),c.p2c(c.min));else{var o=l,M=r;m<=j&&m<c.min&&j>=c.min?(l=(c.min-m)/(j-m)*(r-l)+l,m=c.min):j<=m&&(j<c.min&&m>=c.min)&&(r=(c.min-m)/(j-m)*(r-l)+l,j=c.min);m>=j&&m>c.max&&j<=c.max?(l=(c.max-m)/(j-m)*(r-l)+l,m=c.max):j>=m&&(j>c.max&&m<=c.max)&&(r=(c.max-m)/
(j-m)*(r-l)+l,j=c.max);l!=o&&g.lineTo(b.p2c(o),c.p2c(m));g.lineTo(b.p2c(l),c.p2c(m));g.lineTo(b.p2c(r),c.p2c(j));r!=M&&(g.lineTo(b.p2c(r),c.p2c(j)),g.lineTo(b.p2c(M),c.p2c(j)))}}}}g.save();g.translate(h.left,h.top);g.lineJoin="round";var c=a.lines.lineWidth,e=a.shadowSize;if(0<c&&0<e){g.lineWidth=e;g.strokeStyle="rgba(0,0,0,0.1)";var f=Math.PI/18;d(a.datapoints,Math.sin(f)*(c/2+e/2),Math.cos(f)*(c/2+e/2),a.xaxis,a.yaxis);g.lineWidth=e/2;d(a.datapoints,Math.sin(f)*(c/2+e/4),Math.cos(f)*(c/2+e/4),a.xaxis,
a.yaxis)}g.lineWidth=c;g.strokeStyle=a.color;if(e=U(a.lines,a.color,0,H))g.fillStyle=e,b(a.datapoints,a.xaxis,a.yaxis);0<c&&d(a.datapoints,0,0,a.xaxis,a.yaxis);g.restore()}function va(a){function d(a,b,c,d,e,f,h,k){for(var i=a.points,a=a.pointsize,j=0;j<i.length;j+=a){var l=i[j],m=i[j+1];null==l||(l<f.min||l>f.max||m<h.min||m>h.max)||(g.beginPath(),l=f.p2c(l),m=h.p2c(m)+d,"circle"==k?g.arc(l,m,b,0,e?Math.PI:2*Math.PI,!1):k(g,l,m,b,e),g.closePath(),c&&(g.fillStyle=c,g.fill()),g.stroke())}}g.save();
g.translate(h.left,h.top);var b=a.points.lineWidth,c=a.shadowSize,e=a.points.radius,f=a.points.symbol;0<b&&0<c&&(c/=2,g.lineWidth=c,g.strokeStyle="rgba(0,0,0,0.1)",d(a.datapoints,e,null,c+c/2,!0,a.xaxis,a.yaxis,f),g.strokeStyle="rgba(0,0,0,0.2)",d(a.datapoints,e,null,c/2,!0,a.xaxis,a.yaxis,f));g.lineWidth=b;g.strokeStyle=a.color;d(a.datapoints,e,U(a.points,a.color),0,!1,a.xaxis,a.yaxis,f);g.restore()}function fa(a,d,b,c,e,f,g,h,k,i,j,o){var v,w,t,n;j?(n=w=t=!0,v=!1,j=b,b=d+c,e=d+e,a<j&&(d=a,a=j,j=
d,v=!0,w=!1)):(v=w=t=!0,n=!1,j=a+c,a+=e,e=b,b=d,b<e&&(d=b,b=e,e=d,n=!0,t=!1));if(!(a<h.min||j>h.max||b<k.min||e>k.max))if(j<h.min&&(j=h.min,v=!1),a>h.max&&(a=h.max,w=!1),e<k.min&&(e=k.min,n=!1),b>k.max&&(b=k.max,t=!1),j=h.p2c(j),e=k.p2c(e),a=h.p2c(a),b=k.p2c(b),g&&(i.beginPath(),i.moveTo(j,e),i.lineTo(j,b),i.lineTo(a,b),i.lineTo(a,e),i.fillStyle=g(e,b),i.fill()),0<o&&(v||w||t||n))i.beginPath(),i.moveTo(j,e+f),v?i.lineTo(j,b+f):i.moveTo(j,b+f),t?i.lineTo(a,b+f):i.moveTo(a,b+f),w?i.lineTo(a,e+f):i.moveTo(a,
e+f),n?i.lineTo(j,e+f):i.moveTo(j,e+f),i.stroke()}function ua(a){g.save();g.translate(h.left,h.top);g.lineWidth=a.bars.lineWidth;g.strokeStyle=a.color;var d;switch(a.bars.align){case "left":d=0;break;case "right":d=-a.bars.barWidth;break;case "center":d=-a.bars.barWidth/2;break;default:throw Error("Invalid bar alignment: "+a.bars.align);}(function(b,c,d,f,h,i,j){for(var k=b.points,b=b.pointsize,q=0;q<k.length;q+=b)null!=k[q]&&fa(k[q],k[q+1],k[q+2],c,d,f,h,i,j,g,a.bars.horizontal,a.bars.lineWidth)})(a.datapoints,
d,d+a.bars.barWidth,0,a.bars.fill?function(b,c){return U(a.bars,a.color,b,c)}:null,a.xaxis,a.yaxis);g.restore()}function U(a,d,b,c){var e=a.fill;if(!e)return null;if(a.fillColor)return ba(a.fillColor,b,c,d);a=i.color.parse(d);a.a="number"==typeof e?e:0.4;a.normalize();return a.toString()}function sa(){j.find(".legend").remove();if(f.legend.show){for(var a=[],d=!1,b=f.legend.labelFormatter,c,e,g=0;g<v.length;++g)if(c=v[g],e=c.label)0==g%f.legend.noColumns&&(d&&a.push("</tr>"),a.push("<tr>"),d=!0),
b&&(e=b(e,c)),a.push('<td class="legendColorBox"><div style="border:1px solid '+f.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+e+"</td>");d&&a.push("</tr>");0!=a.length&&(d='<table style="font-size:smaller;color:'+f.grid.color+'">'+a.join("")+"</table>",null!=f.legend.container?i(f.legend.container).html(d):(a="",b=f.legend.position,c=f.legend.margin,null==c[0]&&(c=[c,c]),"n"==b.charAt(0)?
a+="top:"+(c[1]+h.top)+"px;":"s"==b.charAt(0)&&(a+="bottom:"+(c[1]+h.bottom)+"px;"),"e"==b.charAt(1)?a+="right:"+(c[0]+h.right)+"px;":"w"==b.charAt(1)&&(a+="left:"+(c[0]+h.left)+"px;"),d=i('<div class="legend">'+d.replace('style="','style="position:absolute;'+a+";")+"</div>").appendTo(j),0!=f.legend.backgroundOpacity&&(b=f.legend.backgroundColor,null==b&&(b=(b=f.grid.backgroundColor)&&"string"==typeof b?i.color.parse(b):i.color.extract(d,"background-color"),b.a=1,b=b.toString()),c=d.children(),i('<div style="position:absolute;width:'+
c.width()+"px;height:"+c.height()+"px;"+a+"background-color:"+b+';"> </div>').prependTo(d).css("opacity",f.legend.backgroundOpacity))))}}function ga(a){f.grid.hoverable&&V("plothover",a,function(a){return!1!=a.hoverable})}function ha(a){f.grid.hoverable&&V("plothover",a,function(){return!1})}function ia(a){V("plotclick",a,function(a){return!1!=a.clickable})}function V(a,d,b){var c=G.offset(),e=d.pageX-c.left-h.left,g=d.pageY-c.top-h.top,i=W({left:e,top:g});i.pageX=d.pageX;i.pageY=d.pageY;var d=f.grid.mouseActiveRadius,
k=d*d+1,p=null,o,q;for(o=v.length-1;0<=o;--o)if(b(v[o])){var t=v[o],y=t.xaxis,w=t.yaxis,A=t.datapoints.points,n=t.datapoints.pointsize,l=y.c2p(e),m=w.c2p(g),r=d/y.scale,B=d/w.scale;y.options.inverseTransform&&(r=Number.MAX_VALUE);w.options.inverseTransform&&(B=Number.MAX_VALUE);if(t.lines.show||t.points.show)for(q=0;q<A.length;q+=n){var z=A[q],C=A[q+1];if(null!=z&&!(z-l>r||z-l<-r||C-m>B||C-m<-B))z=Math.abs(y.p2c(z)-e),C=Math.abs(w.p2c(C)-g),C=z*z+C*C,C<k&&(k=C,p=[o,q/n])}if(t.bars.show&&!p){y="left"==
t.bars.align?0:-t.bars.barWidth/2;t=y+t.bars.barWidth;for(q=0;q<A.length;q+=n)if(z=A[q],C=A[q+1],w=A[q+2],null!=z&&(v[o].bars.horizontal?l<=Math.max(w,z)&&l>=Math.min(w,z)&&m>=C+y&&m<=C+t:l>=z+y&&l<=z+t&&m>=Math.min(w,C)&&m<=Math.max(w,C)))p=[o,q/n]}}p?(o=p[0],q=p[1],n=v[o].datapoints.pointsize,b={datapoint:v[o].datapoints.points.slice(q*n,(q+1)*n),dataIndex:q,series:v[o],seriesIndex:o}):b=null;b&&(b.pageX=parseInt(b.series.xaxis.p2c(b.datapoint[0])+c.left+h.left),b.pageY=parseInt(b.series.yaxis.p2c(b.datapoint[1])+
c.top+h.top));if(f.grid.autoHighlight){for(c=0;c<I.length;++c)e=I[c],e.auto==a&&(!b||!(e.series==b.series&&e.point[0]==b.datapoint[0]&&e.point[1]==b.datapoint[1]))&&ja(e.series,e.point);b&&ka(b.series,b.datapoint,a)}j.trigger(a,[i,b])}function T(){var a=f.interaction.redrawOverlayInterval;-1==a?la():Q||(Q=setTimeout(la,a))}function la(){Q=null;A.save();A.clearRect(0,0,E,F);A.translate(h.left,h.top);var a,d;for(a=0;a<I.length;++a)if(d=I[a],d.series.bars.show)wa(d.series,d.point);else{var b=d.series,
c=d.point;d=c[0];var c=c[1],e=b.xaxis,f=b.yaxis;if(!(d<e.min||d>e.max||c<f.min||c>f.max)){var g=b.points.radius+b.points.lineWidth/2;A.lineWidth=g;A.strokeStyle=i.color.parse(b.color).scale("a",0.5).toString();g*=1.5;d=e.p2c(d);c=f.p2c(c);A.beginPath();"circle"==b.points.symbol?A.arc(d,c,g,0,2*Math.PI,!1):b.points.symbol(A,d,c,g,!1);A.closePath();A.stroke()}}A.restore();o(z.drawOverlay,[A])}function ka(a,d,b){"number"==typeof a&&(a=v[a]);if("number"==typeof d)var c=a.datapoints.pointsize,d=a.datapoints.points.slice(c*
d,c*(d+1));c=ma(a,d);-1==c?(I.push({series:a,point:d,auto:b}),T()):b||(I[c].auto=!1)}function ja(a,d){null==a&&null==d&&(I=[],T());"number"==typeof a&&(a=v[a]);"number"==typeof d&&(d=a.data[d]);var b=ma(a,d);-1!=b&&(I.splice(b,1),T())}function ma(a,d){for(var b=0;b<I.length;++b){var c=I[b];if(c.series==a&&c.point[0]==d[0]&&c.point[1]==d[1])return b}return-1}function wa(a,d){A.lineWidth=a.bars.lineWidth;A.strokeStyle=i.color.parse(a.color).scale("a",0.5).toString();var b=i.color.parse(a.color).scale("a",
0.5).toString(),c="left"==a.bars.align?0:-a.bars.barWidth/2;fa(d[0],d[1],d[2]||0,c,c+a.bars.barWidth,0,function(){return b},a.xaxis,a.yaxis,A,a.bars.horizontal,a.bars.lineWidth)}function ba(a,d,b,c){if("string"==typeof a)return a;for(var d=g.createLinearGradient(0,b,0,d),b=0,e=a.colors.length;b<e;++b){var f=a.colors[b];if("string"!=typeof f){var h=i.color.parse(c);null!=f.brightness&&(h=h.scale("rgb",f.brightness));null!=f.opacity&&(h.a*=f.opacity);f=h.toString()}d.addColorStop(b/(e-1),f)}return d}
var v=[],f={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:0.85},xaxis:{show:null,position:"bottom",mode:null,timezone:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,
tickDecimals:null,tickSize:null,minTickSize:null,monthNames:null,timeformat:null,twelveHourClock:!1},yaxis:{autoscaleMargin:0.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1},shadowSize:3},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,
margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1E3/60},hooks:{}},N=null,O=null,G=null,g=null,A=null,B=[],D=[],h={left:0,right:0,top:0,bottom:0},E=0,F=0,J=0,H=0,z={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},
t=this;t.setData=L;t.setupGrid=$;t.draw=aa;t.getPlaceholder=function(){return j};t.getCanvas=function(){return N};t.getPlotOffset=function(){return h};t.width=function(){return J};t.height=function(){return H};t.offset=function(){var a=G.offset();a.left+=h.left;a.top+=h.top;return a};t.getData=function(){return v};t.getAxes=function(){var a={};i.each(B.concat(D),function(d,b){b&&(a[b.direction+(1!=b.n?b.n:"")+"axis"]=b)});return a};t.getXAxes=function(){return B};t.getYAxes=function(){return D};t.c2p=
W;t.p2c=function(a){var d={},b,c,e;for(b=0;b<B.length;++b)if((c=B[b])&&c.used)if(e="x"+c.n,null==a[e]&&1==c.n&&(e="x"),null!=a[e]){d.left=c.p2c(a[e]);break}for(b=0;b<D.length;++b)if((c=D[b])&&c.used)if(e="y"+c.n,null==a[e]&&1==c.n&&(e="y"),null!=a[e]){d.top=c.p2c(a[e]);break}return d};t.getOptions=function(){return f};t.highlight=ka;t.unhighlight=ja;t.triggerRedrawOverlay=T;t.pointOffset=function(a){return{left:parseInt(B[R(a,"x")-1].p2c(+a.x)+h.left),top:parseInt(D[R(a,"y")-1].p2c(+a.y)+h.top)}};
t.shutdown=function(){Q&&clearTimeout(Q);G.unbind("mousemove",ga);G.unbind("mouseleave",ha);G.unbind("click",ia);o(z.shutdown,[G])};t.resize=function(){Y();Z(N);Z(O)};t.hooks=z;(function(){for(var a=0;a<P.length;++a){var d=P[a];d.init(t);d.options&&i.extend(!0,f,d.options)}})(t);(function(a){i.extend(!0,f,a);null==f.xaxis.color&&(f.xaxis.color=f.grid.color);null==f.yaxis.color&&(f.yaxis.color=f.grid.color);null==f.xaxis.tickColor&&(f.xaxis.tickColor=f.grid.tickColor);null==f.yaxis.tickColor&&(f.yaxis.tickColor=
f.grid.tickColor);null==f.grid.borderColor&&(f.grid.borderColor=f.grid.color);null==f.grid.tickColor&&(f.grid.tickColor=i.color.parse(f.grid.color).scale("a",0.22).toString());for(a=0;a<Math.max(1,f.xaxes.length);++a)f.xaxes[a]=i.extend(!0,{},f.xaxis,f.xaxes[a]);for(a=0;a<Math.max(1,f.yaxes.length);++a)f.yaxes[a]=i.extend(!0,{},f.yaxis,f.yaxes[a]);f.xaxis.noTicks&&null==f.xaxis.ticks&&(f.xaxis.ticks=f.xaxis.noTicks);f.yaxis.noTicks&&null==f.yaxis.ticks&&(f.yaxis.ticks=f.yaxis.noTicks);f.x2axis&&(f.xaxes[1]=
i.extend(!0,{},f.xaxis,f.x2axis),f.xaxes[1].position="top");f.y2axis&&(f.yaxes[1]=i.extend(!0,{},f.yaxis,f.y2axis),f.yaxes[1].position="right");f.grid.coloredAreas&&(f.grid.markings=f.grid.coloredAreas);f.grid.coloredAreasColor&&(f.grid.markingsColor=f.grid.coloredAreasColor);f.lines&&i.extend(!0,f.series.lines,f.lines);f.points&&i.extend(!0,f.series.points,f.points);f.bars&&i.extend(!0,f.series.bars,f.bars);null!=f.shadowSize&&(f.series.shadowSize=f.shadowSize);for(a=0;a<f.xaxes.length;++a)S(B,a+
1).options=f.xaxes[a];for(a=0;a<f.yaxes.length;++a)S(D,a+1).options=f.yaxes[a];for(var d in z)f.hooks[d]&&f.hooks[d].length&&(z[d]=z[d].concat(f.hooks[d]));o(z.processOptions,[f])})(y);(function(){var a;a=j.children("canvas.flot-base");var d=j.children("canvas.flot-overlay");0==a.length||0==d?(j.html(""),j.css({padding:0}),"static"==j.css("position")&&j.css("position","relative"),Y(),N=X(!0,"flot-base"),O=X(!1,"flot-overlay"),a=!1):(N=a.get(0),O=d.get(0),a=!0);g=N.getContext("2d");A=O.getContext("2d");
G=i(O);a&&(j.data("plot").shutdown(),t.resize(),A.clearRect(0,0,E,F),G.unbind(),j.children().not([N,O]).remove());j.data("plot",t)})();L(k);$();aa();f.grid.hoverable&&(G.mousemove(ga),G.mouseleave(ha));f.grid.clickable&&G.click(ia);o(z.bindEvents,[G]);var I=[],Q=null}i.plot=function(j,k,y){return new L(i(j),k,y,i.plot.plugins)};i.plot.version="0.7";i.plot.plugins=[]})(jQuery);

/* - ++resource++collective.polls/js/jquery.flot.pie.js - */
(function(s){var c={series:{pie:{show:!1,radius:"auto",innerRadius:0,startAngle:1.5,tilt:1,offset:{top:0,left:"auto"},stroke:{color:"#FFF",width:1},label:{show:"auto",formatter:function(c,s){return'<div style="font-size:x-small;text-align:center;padding:2px;color:'+s.color+';">'+c+"<br/>"+Math.round(s.percent)+"%</div>"},radius:1,background:{color:null,opacity:0},threshold:0},combine:{threshold:-1,color:null,label:"Other"},highlight:{opacity:0.5}}}};s.plot.plugins.push({init:function(r){function F(a){A||
(A=!0,l=a.getCanvas(),t=s(l).parent(),c=a.getOptions(),a.setData(G(a.getData())))}function G(a){for(var b=0;b<a.length;++b)if("number"==typeof a[b].data)a[b].data=[[1,a[b].data]];else if("undefined"==typeof a[b].data||"undefined"==typeof a[b].data[0])"undefined"!=typeof a[b].data&&"undefined"!=typeof a[b].data.label&&(a[b].label=a[b].data.label),a[b].data=[[1,0]];for(var b=a,j=0;j<b.length;++j){var g=parseFloat(b[j].data[0][1]);g&&(n+=g)}for(var j=b=0,g=c.series.pie.combine.color,f=[],d=0;d<a.length;++d)a[d].data[0][1]=
parseFloat(a[d].data[0][1]),a[d].data[0][1]||(a[d].data[0][1]=0),a[d].data[0][1]/n<=c.series.pie.combine.threshold?(b+=a[d].data[0][1],j++,g||(g=a[d].color)):f.push({data:[[1,a[d].data[0][1]]],color:a[d].color,label:a[d].label,angle:a[d].data[0][1]*2*Math.PI/n,percent:100*(a[d].data[0][1]/n)});0<j&&f.push({data:[[1,b]],color:g,label:c.series.pie.combine.label,angle:b*2*Math.PI/n,percent:100*(b/n)});return f}function H(a,b){function j(){ctx.clearRect(0,0,l.width,l.height);t.children().filter(".pieLabel, .pieLabelBackground").remove()}
function g(){var a=1<c.series.pie.radius?c.series.pie.radius:o*c.series.pie.radius;if(!(a>=l.width/2-5||a*c.series.pie.tilt>=l.height/2-15||10>=a)){ctx.save();ctx.translate(5,15);ctx.globalAlpha=0.02;ctx.fillStyle="#000";ctx.translate(m,v);ctx.scale(1,c.series.pie.tilt);for(var b=1;10>=b;b++)ctx.beginPath(),ctx.arc(0,0,a,0,2*Math.PI,!1),ctx.fill(),a-=b;ctx.restore()}}function f(){function a(b,c,d){0>=b||isNaN(b)||(d?ctx.fillStyle=c:(ctx.strokeStyle=c,ctx.lineJoin="round"),ctx.beginPath(),1.0E-9<Math.abs(b-
2*Math.PI)?ctx.moveTo(0,0):s.browser.msie&&(b-=1.0E-4),ctx.arc(0,0,f,g,g+b,!1),ctx.closePath(),g+=b,d?ctx.fill():ctx.stroke())}function b(){for(var a=j,f=1<c.series.pie.label.radius?c.series.pie.label.radius:o*c.series.pie.label.radius,g=0;g<d.length;++g){if(d[g].percent>=100*c.series.pie.label.threshold){var e=d[g],h=a,q=g;if(0!=e.data[0][1]){var p=c.legend.labelFormatter,k=void 0,r=c.series.pie.label.formatter,k=p?p(e.label,e):e.label;r&&(k=r(k,e));p=(h+e.angle+h)/2;h=m+Math.round(Math.cos(p)*f);
p=v+Math.round(Math.sin(p)*f)*c.series.pie.tilt;t.append('<span class="pieLabel" id="pieLabel'+q+'" style="position:absolute;top:'+p+"px;left:"+h+'px;">'+k+"</span>");q=t.children("#pieLabel"+q);k=p-q.height()/2;p=h-q.width()/2;q.css("top",k);q.css("left",p);if(0<0-k||0<0-p||0>l.height-(k+q.height())||0>l.width-(p+q.width()))w=!0;0!=c.series.pie.label.background.opacity&&(h=c.series.pie.label.background.color,null==h&&(h=e.color),e="top:"+k+"px;left:"+p+"px;",s('<div class="pieLabelBackground" style="position:absolute;width:'+
q.width()+"px;height:"+q.height()+"px;"+e+"background-color:"+h+';"> </div>').insertBefore(q).css("opacity",c.series.pie.label.background.opacity))}}a+=d[g].angle}}var j=Math.PI*c.series.pie.startAngle,f;f=1<c.series.pie.radius?c.series.pie.radius:o*c.series.pie.radius;ctx.save();ctx.translate(m,v);ctx.scale(1,c.series.pie.tilt);ctx.save();for(var g=j,h=0;h<d.length;++h)d[h].startAngle=g,a(d[h].angle,d[h].color,!0);ctx.restore();if(0<c.series.pie.stroke.width){ctx.save();ctx.lineWidth=c.series.pie.stroke.width;
g=j;for(h=0;h<d.length;++h)a(d[h].angle,c.series.pie.stroke.color,!1);ctx.restore()}B(ctx);c.series.pie.label.show&&b();ctx.restore()}if(t){ctx=b;z=t.children().filter(".legend").children().width();o=Math.min(l.width,l.height/c.series.pie.tilt)/2;v=l.height/2+c.series.pie.offset.top;m=l.width/2;m="auto"==c.series.pie.offset.left?c.legend.position.match("w")?m+z/2:m-z/2:m+c.series.pie.offset.left;m<o?m=o:m>l.width-o&&(m=l.width-o);for(var d=a.getData(),h=0;w&&h<C;)w=!1,0<h&&(o*=I),h+=1,j(),0.8>=c.series.pie.tilt&&
g(),f();h>=C&&(j(),t.prepend('<div class="error">Could not draw pie with labels contained inside canvas</div>'));a.setSeries&&a.insertLegend&&(a.setSeries(d),a.insertLegend())}}function B(a){0<c.series.pie.innerRadius&&(a.save(),innerRadius=1<c.series.pie.innerRadius?c.series.pie.innerRadius:o*c.series.pie.innerRadius,a.globalCompositeOperation="destination-out",a.beginPath(),a.fillStyle=c.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*Math.PI,!1),a.fill(),a.closePath(),a.restore(),a.save(),a.beginPath(),
a.strokeStyle=c.series.pie.stroke.color,a.arc(0,0,innerRadius,0,2*Math.PI,!1),a.stroke(),a.closePath(),a.restore())}function J(a){D("plothover",a)}function K(a){D("plotclick",a)}function D(a,b){var j=r.offset(),g=parseInt(b.pageX-j.left);a:{for(var j=parseInt(b.pageY-j.top),f=r.getData(),d=r.getOptions(),d=1<d.series.pie.radius?d.series.pie.radius:o*d.series.pie.radius,h=0;h<f.length;++h){var e=f[h];if(e.pie.show){ctx.save();ctx.beginPath();ctx.moveTo(0,0);ctx.arc(0,0,d,e.startAngle,e.startAngle+
e.angle,!1);ctx.closePath();x=g-m;y=j-v;if(ctx.isPointInPath){if(ctx.isPointInPath(g-m,j-v)){ctx.restore();g={datapoint:[e.percent,e.data],dataIndex:0,series:e,seriesIndex:h};break a}}else{p1X=d*Math.cos(e.startAngle);p1Y=d*Math.sin(e.startAngle);p2X=d*Math.cos(e.startAngle+e.angle/4);p2Y=d*Math.sin(e.startAngle+e.angle/4);p3X=d*Math.cos(e.startAngle+e.angle/2);p3Y=d*Math.sin(e.startAngle+e.angle/2);p4X=d*Math.cos(e.startAngle+e.angle/1.5);p4Y=d*Math.sin(e.startAngle+e.angle/1.5);p5X=d*Math.cos(e.startAngle+
e.angle);p5Y=d*Math.sin(e.startAngle+e.angle);arrPoly=[[0,0],[p1X,p1Y],[p2X,p2Y],[p3X,p3Y],[p4X,p4Y],[p5X,p5Y]];arrPoint=[x,y];for(var l=!1,u=-1,s=arrPoly.length,n=s-1;++u<s;n=u)(arrPoly[u][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[n][1]||arrPoly[n][1]<=arrPoint[1]&&arrPoint[1]<arrPoly[u][1])&&arrPoint[0]<(arrPoly[n][0]-arrPoly[u][0])*(arrPoint[1]-arrPoly[u][1])/(arrPoly[n][1]-arrPoly[u][1])+arrPoly[u][0]&&(l=!l);if(l){ctx.restore();g={datapoint:[e.percent,e.data],dataIndex:0,series:e,seriesIndex:h};break a}}ctx.restore()}}g=
null}if(c.grid.autoHighlight)for(j=0;j<k.length;++j)if(f=k[j],f.auto==a&&!(g&&f.series==g.series)&&(f=f.series,null==f&&(k=[],r.triggerRedrawOverlay()),"number"==typeof f&&(f=series[f]),f=E(f),-1!=f))k.splice(f,1),r.triggerRedrawOverlay();g&&(j=g.series,"number"==typeof j&&(j=series[j]),f=E(j),-1==f?(k.push({series:j,auto:a}),r.triggerRedrawOverlay()):a||(k[f].auto=!1));t.trigger(a,[{pageX:b.pageX,pageY:b.pageY},g])}function E(a){for(var b=0;b<k.length;++b)if(k[b].series==a)return b;return-1}function L(a,
b){var c=a.getOptions(),g=1<c.series.pie.radius?c.series.pie.radius:o*c.series.pie.radius;b.save();b.translate(m,v);b.scale(1,c.series.pie.tilt);for(i=0;i<k.length;++i){var f=k[i].series;0>=f.angle||isNaN(f.angle)||(b.fillStyle="rgba(255, 255, 255, "+c.series.pie.highlight.opacity+")",b.beginPath(),1.0E-9<Math.abs(f.angle-2*Math.PI)&&b.moveTo(0,0),b.arc(0,0,g,f.startAngle,f.startAngle+f.angle,!1),b.closePath(),b.fill())}B(b);b.restore()}var l=null,t=null,o=null,m=null,v=null,n=0,w=!0,C=10,I=0.95,
z=0,A=!1,k=[];r.hooks.processOptions.push(function(a,b){b.series.pie.show&&(b.grid.show=!1,"auto"==b.series.pie.label.show&&(b.series.pie.label.show=b.legend.show?!1:!0),"auto"==b.series.pie.radius&&(b.series.pie.radius=b.series.pie.label.show?0.75:1),1<b.series.pie.tilt&&(b.series.pie.tilt=1),0>b.series.pie.tilt&&(b.series.pie.tilt=0),a.hooks.processDatapoints.push(F),a.hooks.drawOverlay.push(L),a.hooks.draw.push(H))});r.hooks.bindEvents.push(function(a,b){var c=a.getOptions();c.series.pie.show&&
c.grid.hoverable&&b.unbind("mousemove").mousemove(J);c.series.pie.show&&c.grid.clickable&&b.unbind("click").click(K)})},options:c,name:"pie",version:"1.0"})})(jQuery);

/* - ++resource++collective.polls/js/polls.js - */
// https://www.gov.br/saude/portal_javascripts/++resource++collective.polls/js/polls.js?original=1
! function($){"use strict";var Poll=function(element,options){this.init('polls',element,options)};Poll.prototype={constructor:Poll,init:function(type,element,options){this.type=type;this.e=$(element);this.options=this.get_options(options);if(this.options.type=='bar'){this.setup_bars_poll()}if(this.options.type=='pie'){this.setup_pie_poll()}},get_options:function(options){options=$.extend({},$.fn[this.type].defaults,options,this.e.data());return options},_1:function(bar_data){var label=$('<span/>').addClass('bar-label');var bar=$('<div/>').addClass('bar');var vote_counter=$('<span/>').append(' ('+bar_data['value']+')');var bar_row=$('<div/>').addClass('bar-row');bar_row.data('bar_row_value',bar_data['value']);var bg=bar_data['color'];label.html(bar_data['label']);if(!this.options['show_labels']){label.css('display','none')}if(this.options['show_votes']){label.append(vote_counter)}bar.css({'background-color':bg,'height':this.options['bars_height'],'display':'block'});bar_row.css({'margin-bottom':this.options['bars_separation']});bar_row.append(label).append(bar);return bar_row},_0:function(total_votes){var global_this=this;var rows=this.e.find('.bar-row');var max_width=this.options['width']?this.options['width']:this.e.width();rows.each(function(){var t=$(this);var porcentual=100/total_votes * t.data('bar_row_value');var porcentual_real_str=(porcentual+'').substring(0,4)+' %';t.find('.bar').css({'width':max_width/100 * porcentual+'px'});if(global_this.options['show_porcentual']){t.find('.bar').append($('<span/>').html(porcentual_real_str))}})},setup_bars_poll:function(){var data=this.options.data;var bar={};var label='label';var total_votes=0;for(var i=0,len=data.length;i<len;i++){var d=data[i];if(typeof d=="number"){bar['value']=d}else{bar['value']=d['data']}bar['label']=d['label']?d['label']:label+i;bar['color']=d['color'];if(!d['color']){bar['color']=this.options['colors'][i]}total_votes+=bar['value'];var bar_row=this._1(bar);this.e.append(bar_row)}this._0(total_votes)},setup_pie_poll:function(){var data=this.options.data;$.plot(this.e,data,{series:{pie:{show:true}},legend:{show:this.options.show_labels}})}};$.fn.polls=function(option){return this.each(function(){var t=$(this),data=t.data('polls'),options=typeof option=='object'&&option;if(!data)t.data('polls',(data=new Poll(this,options)));if(typeof option=='string')data[option]()})};$.fn.polls.Constructor=Poll;$.fn.polls.defaults={type:'bar',width:undefined,bars_height:'14px',bars_separation:'10px',show_labels:true,show_votes:true,show_porcentual:true,colors:['#599B10','#008B88','#009ADD','#F1AD00','#FA5600','#F8002A','#599B10','#008B88','#009ADD','#F1AD00','#FA5600','#F8002A'],data:[]}}(window.jQuery);

/* - ++resource++collective.polls/js/collective.poll.js - */
// https://www.gov.br/saude/portal_javascripts/++resource++collective.polls/js/collective.poll.js?original=1
! function($){"use strict";$(function(){var init_poll=function(p){var url=p.attr('data-poll-url');$.ajax({url:url+'/@@update-poll',context:p,success:function(data){var p=this;var uid=p.attr('data-poll-uid');var base_css='.poll[data-poll-uid='+uid+'] ';$(base_css+'.poll-graph').html(data);var cookie='collective.poll.'+uid;var has_votted=(document.cookie.indexOf(cookie)>=0);var closed=(p.attr('data-poll-closed')==="True");var total_votes=parseInt(p.attr('data-poll-totalvotes'),10);if(total_votes===0){$(base_css+'.toggle-result').hide()}else{$(base_css+'.toggle-result').show()}if(has_votted||closed){$(base_css+'.poll-form').remove();$(base_css+'.toggle-result').remove();$(base_css+'.poll-graph').addClass('active')}else{$(base_css+'.poll-form').addClass('active')}$(base_css+'.poll-data, '+base_css+' .votePortlet form').drawpoll()}})};$('.poll').on('click','a.toggle-result',function(e){e.preventDefault();var p=$(this).parents('.poll');$('.poll-toggle',p).toggleClass('active')});$('.poll form').on('submit',function(e){e.preventDefault();var f=$(this);$.ajax({type:'POST',url:f.attr('action'),data:f.serialize()+'&poll.submit=Submit',context:this,success:function(data){var f=$(this);var p=f.parents('.poll');init_poll(p)}})});$('.poll').each(function(){var p=$(this);init_poll(p)})});var DrawPoll=function(element,options){this.init(element)};DrawPoll.prototype={constructor:DrawPoll,init:function(poll){this.poll=$(poll);this.content_handler=this.get_handler();if(this.content_handler[0]!==undefined){this.type=this.get_type();this.data=this.get_data();this.extra_conf={'width':undefined};switch(this.type){case 'portlet':this.setup_portlet(this.data.type);break;default:this.setup_default(this.data.type)}this.draw(this.data,this.content_handler,this.extra_conf)}},draw:function(data,content_handler,extra_conf){content_handler.polls({width:extra_conf.width,type:data.type,data:data.result_data})},get_data:function(poll){var poll=poll!==undefined?poll:this.poll,raw_results=poll.find('.poll-results'),result={},result_data=[];raw_results.find('li').each(function(i){var li=$(this),data={};data['label']=li.find('.option_description').text();data['data']=li.find('.option_result').text()* 1;result_data[i]=data});result['type']=this.get_graph_type(poll);result['result_data']=result_data;raw_results.hide();return result},get_handler:function(poll){var poll=poll!==undefined?poll:this.poll,handler=poll.find('[class*=pollresultholder]');return handler},get_type:function(handler){var handler=handler!==undefined?handler:this.content_handler,re=/\w+(?=pollresultholder)/,match=handler.attr('class').match(re),type=match?match[0]:match;if(type===undefined){type='default'}return type},get_graph_type:function(poll){var poll=poll!==undefined?poll:this.poll,re=/\w+(?=-poll)/,match=poll.attr('class').match(re),type=match?match[0]:match;return type},setup_portlet:function(type){if(type==='pie'){this.content_handler.height(150)}else if(type==='bar'){var width=this.poll.parents('.portletItem').width();this.content_handler.width(width)}},setup_default:function(type){var width=350;switch(type){case 'pie':this.content_handler.height(200);this.content_handler.width(width);break;case 'bar':width=300;break}this.extra_conf['width']=width}};$.fn.drawpoll=function(option){return this.each(function(){var t=$(this),data=t.data('drawpoll'),options=typeof option=='object'&&option;if(!data)t.data('drawpoll',(data=new DrawPoll(this,options)));if(typeof option=='string')data[option]()})};$.fn.drawpoll.Constructor=DrawPoll}(window.jQuery);
